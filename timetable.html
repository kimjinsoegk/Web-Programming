<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>시간표 관리</title>
    <link rel="stylesheet" href="css/styles.css">
    <script defer src="js/app_fixed.js"></script>
</head>
<body>
    <header class="site-header">
        <h1 id="logo-home" style="cursor: pointer;" title="홈으로 이동">
            <i class="ri-book-line"></i> School Life Helper
        </h1>
        <nav class="header-nav">
            <button onclick="location.href='index.html'" class="nav-btn">
                <i class="ri-home-line"></i>
                <span>홈</span>
            </button>
        </nav>
    </header>

    <main>
        <section class="timetable-section">
            <h2>시간표 관리</h2>

            <!-- 주간 시간표 -->
            <div class="table-wrap" style="margin-bottom:20px;">
                <div id="schedule-grid" class="schedule-grid"></div>
            </div>

            <!-- 수업 추가 폼 (그리드 아래 위치) -->
            <form id="schedule-form" class="form">
                <div style="width:100%; margin-bottom:4px;">
                    <strong style="font-size:16px;">새 수업 추가</strong>
                    <div style="font-size:12px; color:#6b7280;">요일을 여러 개 선택하면 동일한 시간으로 한 번에 등록돼요.</div>
                </div>
                <input type="text" id="class-name" placeholder="수업명" required>

                <div class="day-selection">
                    <label>요일 선택:</label>
                    <div class="day-checkboxes">
                        <label class="day-checkbox"><input type="checkbox" name="class-days" value="월"> 월</label>
                        <label class="day-checkbox"><input type="checkbox" name="class-days" value="화"> 화</label>
                        <label class="day-checkbox"><input type="checkbox" name="class-days" value="수"> 수</label>
                        <label class="day-checkbox"><input type="checkbox" name="class-days" value="목"> 목</label>
                        <label class="day-checkbox"><input type="checkbox" name="class-days" value="금"> 금</label>
                        <label class="day-checkbox"><input type="checkbox" name="class-days" value="토"> 토</label>
                        <label class="day-checkbox"><input type="checkbox" name="class-days" value="일"> 일</label>
                    </div>
                </div>

                <div class="time-inputs">
                    <label class="time-select">시작: 
                        <select id="start-hour">
                            <option value="07" selected>07</option>
                            <option value="08">08</option>
                            <option value="09">09</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                        </select>
                        :
                        <select id="start-min">
                            <option value="00" selected>00</option>
                            <option value="30">30</option>
                        </select>
                    </label>

                    <label class="time-select">종료: 
                        <select id="end-hour">
                            <option value="07">07</option>
                            <option value="08" selected>08</option>
                            <option value="09">09</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                        </select>
                        :
                        <select id="end-min">
                            <option value="00" selected>00</option>
                            <option value="30">30</option>
                        </select>
                    </label>
                </div>

                <input type="text" id="location" placeholder="장소 (선택)">
                <label class="color-label">블록 색상: <input type="color" id="class-color" value="#2b6ef6"></label>
                
                <button type="submit">추가</button>
                <button type="button" id="clear-schedules" class="danger">전체 삭제</button>
            </form>

            <!-- 시간표 세트 관리 -->
            <div id="schedule-manager" class="schedule-manager">
                <!-- JS로 렌더링 -->
            </div>

            <!-- 시간표 요약 리스트 -->
            <div class="schedule-management">
                <h3>등록된 시간표</h3>
                <div id="schedule-summary"></div>
            </div>

            <!-- 수정 모달 -->
            <div id="schedule-edit-modal" class="modal" style="display: none;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>시간표 수정</h3>
                        <button class="modal-close">&times;</button>
                    </div>
                    <form id="schedule-edit-form" class="modal-form">
                        <input type="hidden" id="edit-schedule-id">
                        <input type="text" id="edit-class-name" placeholder="수업명" required>
                        <input type="text" id="edit-location" placeholder="장소 (선택)">
                        <div class="edit-time-row">
                            <label>시작:</label>
                            <select id="edit-start-hour"></select>:
                            <select id="edit-start-min"></select>
                            <label>종료:</label>
                            <select id="edit-end-hour"></select>:
                            <select id="edit-end-min"></select>
                        </div>
                        <label class="color-label">블록 색상: <input type="color" id="edit-class-color"></label>
                        <div class="modal-buttons">
                            <button type="submit" class="btn-primary">저장</button>
                            <button type="button" class="btn-cancel">취소</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>
</body>
</html>